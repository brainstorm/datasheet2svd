<?xml version="1.0" encoding="utf-8"?>

<device schemaVersion="1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema-instance" xs:noNamespaceSchemaLocation="CMSIS-SVD.xsd" >
  <vendor>Renesas</vendor>
  <vendorID>Renesas</vendorID>
  <name>V850</name>
  <series>E1/E2/CA2</series>
  <version>1.2</version>
  <description>NEC/Renesas V850 automotive grade ICs</description>
  <licenseText>GPLv3
  </licenseText>
  <cpu>
    <name>V850</name> 
    <revision>r1</revision>
    <endian>little</endian>
    <mpuPresent>true</mpuPresent>
    <fpuPresent>true</fpuPresent>
    <nvicPrioBits>3</nvicPrioBits>
    <vendorSystickConfig>false</vendorSystickConfig>
  </cpu>
  <addressUnitBits>8</addressUnitBits>                            <!-- byte addressable memory -->
  <width>32</width>                                               <!-- bus width is 32 bits -->
  <!-- default settings implicitly inherited by subsequent sections -->
  <size>32</size>                                                 <!-- this is the default size (number of bits) of all peripherals
                                                                       and register that do not define "size" themselves -->
  <access>read-write</access>                                     <!-- default access permission for all subsequent registers -->
  <resetValue>0x00000000</resetValue>                             <!-- by default all bits of the registers are initialized to 0 on reset -->
  <resetMask>0xFFFFFFFF</resetMask>                               <!-- by default all 32Bits of the registers are used -->

  <peripherals>
    <!-- Timer C -->
    <peripheral>
      <name>TIMERC</name>
      <version>1.0</version>
      <description>16 bit Timer / Counter</description>
      <groupName>TIMER</groupName>
      <baseAddress>0xFFFFF600</baseAddress>
      <size>16</size>
      <access>read</access>

      <addressBlock>
        <offset>0</offset>
        <size>0x100</size>
        <usage>registers</usage>
      </addressBlock>

      <interrupt>
        <name>INTCCC00</name>
        <description>Timer C, generated by TIC00 capture register</description>
        <value>0</value>
      </interrupt>

      <registers>
      <!-- TMCC00: Timer C Control Register 0 -->
        <register>
          <name>TMCC00</name>
          <description>Control Register for Timer C</description>
          <addressOffset>0xFFFFF606</addressOffset>
          <size>8</size>
          <access>read-write</access>
          <resetValue>0x00</resetValue>
          <resetMask>0xFF</resetMask>

          <fields>
            <!-- CAE: Counter Access Enable -->
            <field>
              <name>CAE</name>
              <description>Controls the internal count clock</description>
              <bitRange>[0:0]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>reset</name>
                  <description>Asynchronously reset entire TMC0 unit. Stop base clock supply to TMC0 unit.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>init</name>
                  <description>Supply peripheral-clock (fPCLK) to TMC0 unit.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- CE: Controls the operation of TMC0. -->
            <field>
              <name>CE</name>
              <description>Controls the operation of TMC0</description>
              <bitRange>[1:1]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>disable</name>
                  <description>Disable count (timer stopped at 0000H and does not operate)</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>enable</name>
                  <description>Perform count operation.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- CS0-CS2: Clock divider -->
            <field>
              <name>CS0-CS2</name>
              <description>Selects the internal count clock for TMC0.</description>
              <bitRange>[6:4]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>fPCLK/2</name>
                  <description>fPCLK/2</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>fPCLK/4</name>
                  <description>fPCLK/4</description>
                  <value>1</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>fPCLK/8</name>
                  <description>fPCLK/8</description>
                  <value>2</value>
                </enumeratedValue>
                  <enumeratedValue>
                  <name>fPCLK/16</name>
                  <description>fPCLK/16</description>
                  <value>3</value>
                </enumeratedValue>
                  <enumeratedValue>
                  <name>fPCLK/32</name>
                  <description>fPCLK/32</description>
                  <value>4</value>
                </enumeratedValue>
                  <enumeratedValue>
                  <name>fPCLK/64</name>
                  <description>fPCLK/64</description>
                  <value>5</value>
                </enumeratedValue>
                  <enumeratedValue>
                  <name>fPCLK/128</name>
                  <description>fPCLK/128</description>
                  <value>6</value>
                </enumeratedValue>
                  <enumeratedValue>
                  <name>fPCLK/256</name>
                  <description>fPCLK/256</description>
                  <value>7</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
          </fields>
        </register>


      <!-- TMCC01: Timer C Control Register 1 -->
        <register>
          <name>TMCC01</name>
          <description>Control Register for Timer C</description>
          <addressOffset>0xFFFFF608</addressOffset>
          <size>8</size>
          <access>read-write</access>
          <resetValue>0x20</resetValue>
          <resetMask>0xFF</resetMask>

          <fields>
            <!-- CMS0: Counter Access Enable -->
            <field>
              <name>CMS0</name>
              <description>Selects operation mode of capture/compare register (CCC00)</description>
              <bitRange>[0:0]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>capture</name>
                  <description>Register operates as capture register.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>compare</name>
                  <description>Register operates as compare register.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- CMS1: Counter Access Enable -->
            <field>
              <name>CMS1</name>
              <description>Selects operation mode of capture/compare register (CCC01)</description>
              <bitRange>[1:1]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>capture</name>
                  <description>Register operates as capture register.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>compare</name>
                  <description>Register operates as compare register.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- CLR: Enables/disables TMC0 clearing during compare operation. -->
            <field>
              <name>CLR</name>
              <description>Enables/disables TMC0 clearing during compare operation.</description>
              <bitRange>[3:3]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>disable</name>
                  <description>Disable clearing.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>enable</name>
                  <description>Enable clearing (TMC0 is cleared when CCC00 and TMC0 match during com-
pare operation).</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- ALV: Specifies active level of external pulse output (TOC0). -->
            <field>
              <name>ALV</name>
              <description>Specifies active level of external pulse output (TOC0).</description>
              <bitRange>[5:5]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>low-level</name>
                  <description>Active level is low level.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>high-level</name>
                  <description>Active level is high level.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- ETO: Enables/disables output of external pulse output (TOC0). -->
            <field>
              <name>ETO</name>
              <description>ETO: Enables/disables output of external pulse output (TOC0)</description>
              <bitRange>[6:6]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>disable</name>
                  <description>Disable external pulse output. Output of inactive level of ALV bit to TOC0 pin is fixed. TOC0 pin level remains unchanged even if match signal from corresponding compare register is generated.</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>enable</name>
                  <description>Enable external pulse output. Compare register match causes TOC0 output to change. However, in capture mode, TOC0 output does not change. An ALV bit inactive level is output from the time when timer output is enabled until a match signal is generated.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>

            <!-- OST: Setting of the timer operation after overflow -->
            <field>
              <name>OST</name>
              <description>Setting of the timer operation after overflow</description>
              <bitRange>[7:7]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>overflow-continue</name>
                  <description>After overflow the count operation is continued (free running mode)</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>overflow-stop</name>
                  <description>After overflow the count operation is stopped (overflow stop mode). The count is restarted by writing "1" to the CE bit.</description>
                  <value>1</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
          </fields>
        </register>

        <!-- Valid edge selection register (SESC0) -->
        <register>
          <name>SESC0</name>
          <description>Valid edge selection register (SESC0)</description>
          <addressOffset>0xFFFFF609</addressOffset>
          <size>8</size>
          <access>read-write</access>
          <resetValue>0x00</resetValue>
          <resetMask>0x0F</resetMask>

          <fields>
            <!-- IES00-IES01: Counter Access Enable -->
            <field>
              <name>IES00-IES01</name>
              <description>Specifies the valid edge of TIC00 pins.</description>
              <bitRange>[0:1]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>falling</name>
                  <description>Falling edge</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>rising</name>
                  <description>Rising edge</description>
                  <value>1</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>prohibited</name>
                  <description>Setting prohibited</description>
                  <value>2</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>both</name>
                  <description>Both rising and falling edges</description>
                  <value>3</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
            
            <!-- IES10-IES11: Counter Access Enable -->
            <field>
              <name>IES10-IES11</name>
              <description>Specifies the valid edge of TIC10 pins.</description>
              <bitRange>[2:3]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>falling</name>
                  <description>Falling edge</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>rising</name>
                  <description>Rising edge</description>
                  <value>1</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>prohibited</name>
                  <description>Setting prohibited</description>
                  <value>2</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>both</name>
                  <description>Both rising and falling edges</description>
                  <value>3</value>
                </enumeratedValue>
              </enumeratedValues>           
            </field>
          </fields>
        </register>
      </registers>
    </peripheral>

    <!-- Timer D -->
    <peripheral derivedFrom="TIMERC">
      <name>TIMERD</name>
      <baseAddress>0xFFFFF540</baseAddress>
      <interrupt>
        <name>TIMERD</name>
        <description>Timer D interrupt</description>
        <value>4</value>
      </interrupt>
    </peripheral>

    <!-- Timer G -->
    <peripheral derivedFrom="TIMERC">
      <name>TIMERG</name>
      <baseAddress>0xFFFFF648</baseAddress>
      <interrupt>
        <name>INTTMGn0</name>
        <description>Timer Gn0 interrupt</description>
        <value>6</value>
      </interrupt>
    </peripheral>
  </peripherals>
</device>
